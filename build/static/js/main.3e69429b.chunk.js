(this.webpackJsonppart2_ex=this.webpackJsonppart2_ex||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),u=n(15),i=n.n(u),o=n(6),s=n(3),j=function(e){var t=e.setNewFilter;return Object(r.jsxs)("div",{children:["filter shown with ",Object(r.jsx)("input",{onChange:function(e){return t(e.target.value)}})]})},d=function(e){var t=e.submitPerson,n=e.setNewName,c=e.setNewNumber,a=e.newName,u=e.newNumber;return Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsxs)("div",{children:["name: ",Object(r.jsx)("input",{onChange:function(e){return n(e.target.value)},value:a})]}),Object(r.jsxs)("div",{children:["number: ",Object(r.jsx)("input",{onChange:function(e){return c(e.target.value)},value:u})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})})},b=function(e){var t=e.person,n=e.removePerson,c=t.number,a=t.name,u=t.id;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:[a," ",c]}),Object(r.jsx)("button",{onClick:n(u),children:"delete"})]})},l=function(e){var t=e.persons,n=e.filter,c=e.removePerson;return Object(r.jsx)("div",{children:t.map((function(e){return e.name.toLowerCase().includes(n.toLowerCase())?Object(r.jsx)(b,{person:e,removePerson:c},e.name):null}))})},f=function(e){var t=e.message,n=e.messageClass;return null===t?null:Object(r.jsx)("div",{className:n?"added":"deleted",children:t})},m=n(4),h=n.n(m),O="https://radiant-sierra-20753.herokuapp.com/api/persons",p=function(){return h.a.get(O).then((function(e){return e.data}))},v=function(e){return h.a.post(O,e).then((function(e){return e.data}))},x=function(e,t){return h.a.put("".concat(O,"/").concat(e),t).then((function(e){return e.data}))},w=function(e){return h.a.delete("".concat(O,"/").concat(e)).then((function(e){return e.data}))},N=(n(38),function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],u=Object(c.useState)(""),i=Object(s.a)(u,2),b=i[0],m=i[1],h=Object(c.useState)(""),O=Object(s.a)(h,2),N=O[0],g=O[1],C=Object(c.useState)(""),S=Object(s.a)(C,2),P=S[0],k=S[1],y=Object(c.useState)(null),T=Object(s.a)(y,2),A=T[0],D=T[1],E=Object(c.useState)(!0),F=Object(s.a)(E,2),I=F[0],J=F[1];Object(c.useEffect)((function(){p().then((function(e){return a(e)}))}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(f,{message:A,messageClass:I}),Object(r.jsx)(j,{setNewFilter:k}),Object(r.jsx)("h3",{children:"Add a new"}),Object(r.jsx)(d,{submitPerson:function(e){e.preventDefault();var t=n.filter((function(e){return e.name===b}))[0];if(t){if(window.confirm("".concat(b," is already added to phonebook, replace the old number with a new one?"))){var r=Object(o.a)(Object(o.a)({},t),{},{number:N});x(t.id,r).then((function(e){a(n.map((function(t){return t.id!==e.id?t:e}))),m(""),g(""),J(!0),D("Updated ".concat(e.name,"'s phone number")),setTimeout((function(){D(null)}),5e3)})).catch((function(e){J(!1),a(n.filter((function(e){return e.name!==t.name}))),D("Information of ".concat(t.name," has already been removed from server")),setTimeout((function(){D(null)}),5e3)}))}}else v({name:b,number:N}).then((function(e){a(n.concat(e)),m(""),g(""),J(!0),D("Added ".concat(e.name)),setTimeout((function(){D(null)}),5e3)}))},setNewName:m,setNewNumber:g,newName:b,newNumber:N}),Object(r.jsx)("h3",{children:"Numbers"}),Object(r.jsx)(l,{persons:n,filter:P,removePerson:function(e){return function(t){t.preventDefault(),w(e).then(a(n.filter((function(t){return t.id!==e}))))}}})]})});i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(N,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.3e69429b.chunk.js.map